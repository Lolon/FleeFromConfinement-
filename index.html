<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>To Escape Confinement</title>
  <script src="aframe-v0.7.1.js"></script>
  <script src="aframe-animation-component.js"></script>
  <script src="aframe-layout-component.js"></script>
  <script src="aframe-event-set-component.js"></script>
  <script src="nunjucks.js"></script>
  <script src="aframe-template-component.js"></script>
</head>

<body>
  <script>
  AFRAME.registerComponent('log', {
    schema: {type: 'string'},
    init: function () {
      var stringToLog = this.data;
      console.log(stringToLog);
    }
  });
  </script>
<a-scene>
  <a-assets>
    <script id="baseinteractionobject" type="text/x-nunjucks-template">
    //Base code for props
      <a-box height="1.5" depth="1.5" width="1.5"
            material="shader: flat"
            event-set__enter="_event: mouseenter; scale: 1.2 1.2 1"
            event-set__leave="_event: mouseleave; scale: 1 1 1"
            class="scene"
      ></a-box>
    </script>
  </a-assets>
    <a-sky color="#6EBAA7"></a-sky>
    <a-plane color="#CCC" height="20" width="20" rotation="-90 0 0"></a-plane> <!--a basic floor plane-->

    <a-entity id="testObjEntity" template="src: #baseinteractionobject"  position="0 0 10" ></a-entity>

    <a-entity layout="type: circle; radius: 4" position="0 0.5 0" rotation="0 10 0"></a-entity> <!--the circle hud-->
    <a-entity position="0 0 0" id="player">
      <a-camera>
        <a-cursor fuse id="cursor" raycaster="objects: .scene"
          animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150"
          animation__fusing="property: scale; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 1500"
          event-set__1="_event: mouseenter; color: limegreen"
          event-set__2="_event: mouseleave; color: black">
        </a-cursor>
      </a-camera>
    </a-entity>
</a-scene>

<script>
var scene = document.querySelector('a-scene');
if (scene.hasLoaded === true) { run(); } else { scene.addEventListener('loaded', run);}

function run() {
var testobj = document.querySelector('#testObjEntity');
  testobj.addEventListener('click', function (){
    console.log(ooohhhhh);
  });
}
</script>
</body>
</html>
